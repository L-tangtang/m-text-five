{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"D:\\\\-----------\\u5386\\u53F2\\u5B66\\u4E60--------\\\\\\u9AD8\\u7EA7node~~~11\\\\\\u81EA\\u6D4B\\\\\\u7EC3\\u4E60-react\\\\client-react\\\\src\\\\views\\\\home\\\\add.js\";\nimport React, { Component } from 'react';\nconst {\n  Option\n} = _Select;\nexport default class add extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      indent: '',\n      rolelist: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      placeholder: \"\\u7528\\u6237\\u540D\",\n      onChange: e => this.setState({\n        username: e.target.value.trim()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }), React.createElement(_Input, {\n      style: {\n        marginTop: '10px',\n        marginBottom: '10px'\n      },\n      placeholder: \"\\u5BC6\\u7801\",\n      onChange: e => this.setState({\n        password: e.target.value.trim()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), React.createElement(_Select, {\n      defaultValue: \"\\u8EAB\\u4EFD\",\n      style: {\n        width: 120\n      },\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, this.state.rolelist.map(item => {\n      return React.createElement(Option, {\n        key: item.id,\n        value: item.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, item.name);\n    }))), React.createElement(_Button, {\n      onClick: this.headleAdd.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\u6DFB\\u52A0\"));\n  }\n\n  handleChange(value) {\n    this.setState({\n      indent: value\n    });\n  }\n\n  async headleAdd() {\n    let {\n      username,\n      password,\n      indent\n    } = this.state;\n    let res = await this.http('/add', {\n      username,\n      password,\n      indent\n    }, 'post');\n    const {\n      code,\n      msg\n    } = res.data;\n    alert(msg);\n\n    if (code === 1) {\n      this.props.history.push('/home/userList');\n    }\n  }\n\n  componentDidMount() {\n    this.initRole();\n  }\n\n  async initRole() {\n    let res = await this.http('/getRole', '', 'get');\n    const {\n      code,\n      data\n    } = res.data;\n\n    if (code === 1) {\n      this.setState({\n        rolelist: data\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/-----------历史学习--------/高级node~~~11/自测/练习-react/client-react/src/views/home/add.js"],"names":["React","Component","Option","add","state","username","password","indent","rolelist","render","marginBottom","e","setState","target","value","trim","marginTop","width","handleChange","bind","map","item","id","name","headleAdd","res","http","code","msg","data","alert","props","history","push","componentDidMount","initRole"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Input, Select, Button } from 'antd';\r\nconst { Option } = Select;\r\n\r\nexport default class add extends Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        indent: '',\r\n        rolelist: [],\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div style={{ marginBottom: '10px' }}>\r\n                    <Input\r\n                        placeholder=\"用户名\"\r\n                        onChange={e =>\r\n                            this.setState({\r\n                                username: e.target.value.trim(),\r\n                            })\r\n                        }\r\n                    />\r\n                    <Input\r\n                        style={{ marginTop: '10px', marginBottom: '10px' }}\r\n                        placeholder=\"密码\"\r\n                        onChange={e =>\r\n                            this.setState({\r\n                                password: e.target.value.trim(),\r\n                            })\r\n                        }\r\n                    />\r\n                    <Select\r\n                        defaultValue=\"身份\"\r\n                        style={{ width: 120 }}\r\n                        onChange={this.handleChange.bind(this)}\r\n                    >\r\n                        {this.state.rolelist.map(item => {\r\n                            return (\r\n                                <Option key={item.id} value={item.name}>\r\n                                    {item.name}\r\n                                </Option>\r\n                            );\r\n                        })}\r\n                    </Select>\r\n                </div>\r\n                <Button onClick={this.headleAdd.bind(this)}>添加</Button>\r\n            </div>\r\n        );\r\n    }\r\n    handleChange(value) {\r\n        this.setState({\r\n            indent: value,\r\n        });\r\n    }\r\n    async headleAdd() {\r\n        let { username, password, indent } = this.state;\r\n        let res = await this.http('/add', { username, password, indent }, 'post');\r\n        const { code, msg } = res.data;\r\n        alert(msg);\r\n        if (code === 1) {\r\n            this.props.history.push('/home/userList');\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.initRole();\r\n    }\r\n    async initRole() {\r\n        let res = await this.http('/getRole', '', 'get');\r\n        const { code, data } = res.data;\r\n        if (code === 1) {\r\n            this.setState({\r\n                rolelist: data,\r\n            });\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}